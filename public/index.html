<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mitsumotte</title>
    <link rel="shortcut icon" href="img/icon.png" type="image/x-icon">
    <!-- update the version number as needed -->
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-messaging.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    <script src="lib/vue.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyB9vdXsq1o_XAa_8kjFP2tZyARRIg9F1X0",
        authDomain: "digicom-low-1111-06268460.firebaseapp.com",
        databaseURL: "https://digicom-low-1111-06268460.firebaseio.com",
        projectId: "digicom-low-1111-06268460",
        storageBucket: "digicom-low-1111-06268460.appspot.com",
        messagingSenderId: "430203856083"
      };
      firebase.initializeApp(config);
    </script>
    <style media="screen">
      html,body{
        height:100%;
        width:100%;
        margin:0;
        font-family:'メイリオ'
      }
      body{
        background-color:rgb(255, 224, 189);
      }
      #app{
        height:100%;
        width:100%;
      }
      div{
        box-sizing:border-box;
      }
      .header{
        margin:0;
        font-size:30px;
        height:40px;
        color:white;
        background-color:rgb(255, 136, 0);
      }
      .header-icon{
        height:100%;
      }
      .main{
        height:calc(100% - 40px);
      }
      .requests{
        height:100%;
        float:left;
        width:70%;
      }
      .your-info{
        height:100%;
        float:left;
        width:30%;
        background-color:white;
      }
      .store-wrap{
        margin-bottom:10px;
      }
      .store-head{
        height:40px;
        background-color: rgb(236, 212, 160)
      }
      .store-name{
        font-size: 20px;
      }
      .store-info{
        padding:10px;
        height:100px;
      }
      .store-info textarea{
        height:100%;
        resize:none;
      }
      .store-icon{
        float:left;
        height:100%;
      }
      .reputations{
        margin:5px;
        padding:5px;
        border-bottom:solid 1px gray;
      }
      .rep-icon{
        width:25px;
        height:25px;
        display:inline-block;
        background-image:url(img/user.png);
        background-repeat: no-repeat;
        background-size:100%;
      }
      .rep-name{
        width:100px;
        display:inline-block;
      }
      .rate-avg{
        width:100%;
        float:right;
      }
      .rating{
        display:inline-block;
        vertical-align:bottom;
        position:relative;
        width:125px;
        height:25px;
      }
      .rate-base,.rate-cover{
        z-index:100;
        position:absolute;
        top:0;
        left:0;
        height:100%;
      }
      .rate-base{
        background-color:rgb(238, 242, 0);
        width:0%;
      }
      .star{
        width:25px;
        height:25px;
      }
    </style>
  </head>
<body>
  <div id="app">
    <h1 class="header"><img class="header-icon" src="img/icon.png"/><span class="title">Mitsumotte</span></h1>
    <div class="main">
      <div class="requests"></div>
      <div class="your-info">
        <div class="store-warp">
          <div class="store-head">
            <img class="store-icon" src="img/icon.png"/>
            <div class="store-name">{{store.name}}</div>
            <div style="clear:both"></div>
          </div>
          <div v-if="!editDesc" class="store-info">{{store.description}}</div>
          <div v-else class="store-info"><textarea v-model="store.description"></textarea></div>
        </div>
        <div class="rate-avg">総合評価:<rate-parts :rate="store.rateAverage"></rate-parts></div>

        <div>最新のコメント</div>
        <div class="reputations">
          <div class="reputation" v-for="r in store.reputs">
            <div class="rep-icon"></div><div class="rep-name">{{r.name}}</div>
            <rate-parts :rate="r.rate"></rate-parts>
            <div class="repute">{{r.repute}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
<script src="js/main.js"></script>
</body>
</html>
